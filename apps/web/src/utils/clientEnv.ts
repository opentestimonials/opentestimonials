import { z } from 'zod';

const ClientEnvValidator = z.object({
  NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: z.string(),
});

type ClientEnv = z.infer<typeof ClientEnvValidator>;

function getClientEnv() {
  if (typeof window === 'undefined') {
    return {} as ClientEnv;
  }
  const env = {
    NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY:
      process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY,
  };
  return ClientEnvValidator.parse(env);
}

export const clientEnv = getClientEnv();
