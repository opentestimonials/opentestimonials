import * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';
import clsx from 'clsx';
import { signOut } from 'next-auth/react';
import Link from 'next/link';
import React, { useState } from 'react';

interface Props {
  trigger: React.ReactNode;
}

const DropdownMenu = (props: Props) => {
  const [showGrid, setShowGrid] = useState(false);
  const [showUi, setShowUi] = useState(false);

  return (
    <div className="relative inline-block text-left">
      <DropdownMenuPrimitive.Root>
        <DropdownMenuPrimitive.Trigger asChild>
          {props.trigger}
        </DropdownMenuPrimitive.Trigger>

        <DropdownMenuPrimitive.Content
          align="end"
          sideOffset={5}
          className={clsx(
            'radix-side-top:animate-slide-up radix-side-bottom:animate-slide-down',
            'w-48 rounded-lg border border-neutral-100 px-1.5 py-1 drop-shadow-2xl md:w-56',
            'bg-white dark:bg-gray-800'
          )}
        >
          <DropdownMenuPrimitive.Item
            asChild
            className="flex w-full items-center rounded-md px-2 py-2 text-sm text-neutral-600 outline-none transition focus:bg-neutral-50 focus:text-neutral-800"
          >
            <Link href="/dashboard">Dashboard</Link>
          </DropdownMenuPrimitive.Item>
          <DropdownMenuPrimitive.Separator className="my-1 h-px bg-neutral-200 dark:bg-neutral-700" />
          <DropdownMenuPrimitive.Item
            onClick={() => signOut({ callbackUrl: '/' })}
            className="flex w-full items-center rounded-md px-2 py-2 text-sm text-red-600 outline-none transition focus:bg-neutral-50"
          >
            Sign out
          </DropdownMenuPrimitive.Item>
        </DropdownMenuPrimitive.Content>
      </DropdownMenuPrimitive.Root>
    </div>
  );
};

export default DropdownMenu;
