export type TestimonialsOptions = {
  collection: string;
  pathname?: string;
};

export async function getTestimonials(options: TestimonialsOptions) {
  const url =
    `https://opentestimonials.com/api/embed/${options.collection}` +
    (options.pathname ? `?pathname=${options.pathname}` : '');
  return fetch(url)
    .then((r) => r.text())
    .then((html) => ({ hydrate: { html } }));
}
