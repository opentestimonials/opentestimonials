export type TestimonialsOptions = {
  collection: string;
  pathname?: string;
};

export async function getTestimonials(options: TestimonialsOptions) {
  return fetch(
    `https://opentestimonials.com/api/embed/${options.collection}` +
      options.pathname
      ? `?pathname=${options.pathname}`
      : ""
  )
    .then((r) => r.text())
    .then((html) => ({ hydrate: { html } }));
}
